<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="/css/output.css" rel="stylesheet">
  <title>Document</title>
</head>

<body class="bg-gray-200 ">
  <div class="max-w-screen-xl mx-auto">
  <div class="container mx-auto p-4 sm:p-6 lg:p-10 bg-white shadow-lg rounded-lg ">
    <div class="flex flex-col md:flex-row justify-between items-center mb-6">
      <h1 class="text-xl md:text-2xl font-bold text-gray-700 mb-4 md:mb-0">
        <%= checklist.title %>
      </h1>
      <button class="px-2 md:px-4 py-1 md:py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 w-full md:w-auto"
        id="copy-checklist">Copy Checklist</button>
    </div>

    <div class="flex flex-col md:flex-row justify-between mb-6">
      <form action="/list/<%= checklistId %>/createTodo" method="POST" class="mb-4 md:mb-0 w-full md:w-auto flex-grow">
        <input type="text" placeholder="Enter Todo Item" name="todoItem"
          class="px-2 md:px-4 py-1 md:py-2 border rounded-lg border-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 w-full mb-2 md:mb-0 md:mr-6 md:w-1/3">
        <input type="submit" value="Submit"
          class="px-2 md:px-4 py-1 md:py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 w-full md:w-auto mt-2 md:mt-0">
      </form>
      <button class="px-2 md:px-4 py-1 md:py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 w-full md:w-auto mt-2 md:mt-0"
        id="list-reset">reset</button>
    </div>

    <div class="mb-6 p-4">
      <ul class="list-none">
        <% todos.forEach( el=> { %>
          <li class='todoItem mb-2 p-3 border border-b-primary-800 rounded flex items-center  shadow-md group md:space-x-6'
            data-id='<%=el._id%>'>
            <div class="space-x-2  <%=el.completed === true ? 'Completed' : 'notCompleted' %>>" >
              <input type="checkbox" class="todoCheckbox md:w-5 md:h-5" <%=el.completed === true ? 'Completed' : 'notCompleted' %>>
              <span class='<%= el.completed === true ? 'completed' : 'not' %>'><%= el.todo %></span>
            </div>

            <div class="ml-auto opacity-0 group-hover:opacity-100 ease-in-out duration-200">
              <span class='del text-blue-600 hover:text-blue-700 cursor-pointer'> Delete </span>
              <span class="updateList text-blue-600 hover:text-blue-700 cursor-pointer">update</span>
            </div>

          </li>
          <% }) %>
      </ul>
    </div>

    <span class="text-xl md:text-2xl font-bold">
      <%= todos.length %> tasks
    </span>

    <div class="relative mt-6">

      <!-- Overlay -->
      <div class="hidden fixed inset-0 bg-black opacity-25" id="overlay"></div>

      <!-- Copy the checklist form -->
      <form action="/list/<%= checklistId %>/copyChecklist" method="POST"
        class="hidden absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-white shadow-lg rounded-lg p-6"
        id="copy-checklist-form">
        <input type="text" value="copy_of_<%= checklist.title %>" name="copyChecklist"
          class="px-2 md:px-4 py-1 md:py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 mb-4 w-full">
        <select name="  " id="folders"
          class="px-2 md:px-4 py-1 md:py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 mb-4 w-full">
          <option value="">Separate doc</option>
          <% folders.forEach((el)=> { %>
            <option value="<%=el._id %>" class='Folders'>
              <%=el.name %>
            </option>
            <% }) %>
        </select>
        <button type="submit" class="px-2 md:px-4 py-1 md:py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 w-full">Submit</button>
      </form>
    </div>

    <a href="/logout" class="text-blue-500 hover:text-blue-600 mt-6 block">Logout</a>
  </div>
</div>
  <script src="/js/main.js"></script>
</body>

</html>
